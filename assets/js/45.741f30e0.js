(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{466:function(e,t,a){"use strict";a.r(t);var n=a(33),i=function(e){e.options.__data__block__={mermaid_1a962853:"sequenceDiagram\n    autonumber\n    alt is move\n        MediaWiki Page->>+UpdateRepo-HookHandler: PageMoveComplete (hook)\n    else is delete\n        MediaWiki Page->>+UpdateRepo-HookHandler: ArticleDeleteComplete (hook)\n    end\n    UpdateRepo-HookHandler->>UpdateRepo-HookHandler: Check if altered pages are connected to Items\n    opt Not connected to Items\n        UpdateRepo-HookHandler--\x3e>MediaWiki Page: Return control flow\n    end\n    UpdateRepo-HookHandler->>+Repo MediaWiki JobQueue: Notify Repository of the changes (job)\n    opt Repository Notified\n        UpdateRepo-HookHandler--\x3e>MediaWiki Page: Return control flow\n    end\n",mermaid_382ee169:"sequenceDiagram\n    autonumber\n    Client Editor->>+Wikitext-generated content: Reads\n    Data Bridge->>+Wikitext-generated content: Overload links\n    Client Editor->>+Data Bridge: Clicks link\n    Data Bridge->>+Client Editor: Open with loading indicator\n    Data Bridge->>+Repo: Gets data\n    Data Bridge->>+Client Editor: Loading complete\n",mermaid_382ee185:"sequenceDiagram\n    autonumber\n    participant Client Editor\n    participant Page as Wikitext-generated content\n    participant Bridge as Data Bridge\n    Client Editor->>+Bridge: Enters new values, chooses an update strategy, clickes save\n    Bridge->>+Repository: Saves value\n    Repository->>+Bridge: Success\n    Bridge->>+Page: Purges Page\n    Page->>+Bridge: Success\n    Bridge->>+Page: Trigger Reload\n    Client Editor->>+Page: Sees updated content\n",mermaid_382ee1a7:"sequenceDiagram\n    autonumber\n    participant Repository\n    participant EntityChangeNotificationJob\n    Repository->>+EntityChangeNotificationJob: Notify of change(s) (job)\n    EntityChangeNotificationJob->>+ChangeHandler: Handle changes\n",mermaid_382ee1ab:"sequenceDiagram\n    autonumber\n    ChangeHandler->>+ChangeRunCoalescer: Reduce changes\n    ChangeRunCoalescer->>+ChangeHandler: Reduced changes\n    loop Every change\n        ChangeHandler->>+AffectedPagesFinder: Find Affected Usages on Page\n        AffectedPagesFinder->>+ChangeHandler: Usages & Pages\n        ChangeHandler->>+PageUpdater: purgeWebCache\n        ChangeHandler->>+PageUpdater: scheduleRefreshLinks\n        ChangeHandler->>+PageUpdater: injectRCRecords\n    end\n",mermaid_382ee1ca:"sequenceDiagram\n    autonumber\n    Client Editor->>+Scribunto: Edit Scribunto Module to include Wikibase LUA code\n    Client Editor->>+Wikitext-generated content page: Edit Wikitext page to use Scribunto Module\n    Client Editor->>+Wikitext-generated content page: Client Editor requests page\n    Note right of Wikitext-generated content page: This is only one part of page rendering\n    Wikitext-generated content page->>+Scribunto: Parse LUA Modules\n    Scribunto->>+Entity Data Access: Parse Wikibase LUA Functions\n    Entity Data Access->>+WikibaseRepo: Get Entity Data\n    WikibaseRepo--\x3e>Entity Data Access: Entity Data\n    Entity Data Access--\x3e>Scribunto: Parsed LUA Functions\n    Scribunto--\x3e>Wikitext-generated content page: Parsed LUA Modules\n    Wikitext-generated content page->>+Client Editor: Server responds with rendered page\n",mermaid_382ee1e3:"sequenceDiagram\n    autonumber\n    Client Editor->>+Wikitext-generated content page: Edit Wikitext page to include a Wikibase Parser Function\n    Client Editor->>+Wikitext-generated content page: Client Editor requests page\n    Note right of Wikitext-generated content page: This is only one part of page rendering\n    Wikitext-generated content page->>+Entity Data Access: Parse Wikibase Parser Functions\n    Entity Data Access->>+WikibaseRepo: Get Entity Data\n    WikibaseRepo--\x3e>Entity Data Access: Entity Data\n    Entity Data Access--\x3e>Wikitext-generated content page: Parsed Parser Functions\n    Wikitext-generated content page--\x3e>+Client Editor: Server responds with rendered page\n"}},r=Object(n.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"runtime-view"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#runtime-view"}},[e._v("#")]),e._v(" Runtime View")]),e._v(" "),a("h2",{attrs:{id:"updaterepohookhandler"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updaterepohookhandler"}},[e._v("#")]),e._v(" UpdateRepoHookHandler")]),e._v(" "),a("p",[e._v("see the "),a("RouterLink",{attrs:{to:"/systems/Client/01-Introduction.html#wikipedia-editor"}},[e._v("Wikipedia editor's use case")]),e._v(": "),a("em",[e._v("Have interwiki links keep up to date, when pages are moved or deleted")])],1),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_1a962853",graph:e.$dataBlock.mermaid_1a962853}}),a("h2",{attrs:{id:"data-bridge"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-bridge"}},[e._v("#")]),e._v(" Data Bridge")]),e._v(" "),a("p",[e._v("see the "),a("RouterLink",{attrs:{to:"/systems/Client/01-Introduction.html#wikipedia-editor"}},[e._v("Wikipedia editor's use case")]),e._v(": "),a("em",[e._v("Update Wikidataâ€™s data used on Wikipedia")])],1),e._v(" "),a("h3",{attrs:{id:"attachment-and-opening"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#attachment-and-opening"}},[e._v("#")]),e._v(" Attachment and Opening")]),e._v(" "),a("p",[e._v("The Data Bridge is injected into Wikitext-generated content pages that have edit links by overloading the links.")]),e._v(" "),a("p",[e._v("Clicking on one of these links then opens the Data Bridge instead of taking you to the Repository.")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee169",graph:e.$dataBlock.mermaid_382ee169}}),a("h3",{attrs:{id:"supported-value-change"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#supported-value-change"}},[e._v("#")]),e._v(" Supported value change")]),e._v(" "),a("p",[e._v("Once the Data Bridge is open the Client Editor can edit supported values.")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee185",graph:e.$dataBlock.mermaid_382ee185}}),a("h2",{attrs:{id:"entity-change-notifications"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entity-change-notifications"}},[e._v("#")]),e._v(" Entity Change Notifications")]),e._v(" "),a("p",[e._v("see the "),a("RouterLink",{attrs:{to:"/systems/Client/01-Introduction.html#wikibase-client-editor"}},[e._v("Wikibase Client editor's use case")]),e._v(" "),a("em",[e._v("Have Repository data used in Client pages update automatically, when changes happen")])],1),e._v(" "),a("h3",{attrs:{id:"entity-change-events-entering-the-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entity-change-events-entering-the-client"}},[e._v("#")]),e._v(" Entity change events entering the Client")]),e._v(" "),a("p",[e._v("A Repository will schedule Jobs on Clients including change data that the Client needs.")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee1a7",graph:e.$dataBlock.mermaid_382ee1a7}}),a("h3",{attrs:{id:"handle-change-events-on-the-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#handle-change-events-on-the-client"}},[e._v("#")]),e._v(" Handle change events on the Client")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee1ab",graph:e.$dataBlock.mermaid_382ee1ab}}),a("h2",{attrs:{id:"entity-data-access"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#entity-data-access"}},[e._v("#")]),e._v(" Entity Data Access")]),e._v(" "),a("p",[e._v("see the "),a("RouterLink",{attrs:{to:"/systems/Client/01-Introduction.html#wikibase-client-editor"}},[e._v("Wikibase Client editor's use case")]),e._v(" "),a("em",[e._v("Use Repository data in Client wikitext generated content")])],1),e._v(" "),a("h3",{attrs:{id:"using-data-via-lua"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-data-via-lua"}},[e._v("#")]),e._v(" Using data via LUA")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee1ca",graph:e.$dataBlock.mermaid_382ee1ca}}),a("h3",{attrs:{id:"using-data-via-parserfunctions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-data-via-parserfunctions"}},[e._v("#")]),e._v(" Using data via ParserFunctions")]),e._v(" "),a("Mermaid",{attrs:{id:"mermaid_382ee1e3",graph:e.$dataBlock.mermaid_382ee1e3}})],1)}),[],!1,null,null,null);"function"==typeof i&&i(r);t.default=r.exports}}]);