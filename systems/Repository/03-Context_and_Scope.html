<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Context and Scope | Wikibase Architecture Documentation</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="I&#39;m all about architecture">
    
    <link rel="preload" href="/wikidata-wikibase-architecture/assets/css/0.styles.2dde6f7c.css" as="style"><link rel="preload" href="/wikidata-wikibase-architecture/assets/js/app.3df8c736.js" as="script"><link rel="preload" href="/wikidata-wikibase-architecture/assets/js/2.c572fd67.js" as="script"><link rel="preload" href="/wikidata-wikibase-architecture/assets/js/9.68cd709e.js" as="script"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/10.dc434baf.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/11.663dfe7c.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/12.c6eea1e3.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/13.ba724b6d.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/14.2cda7156.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/15.c3a4a02a.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/16.684cd25b.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/17.dca34912.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/18.4ee0b86b.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/19.08ce7f36.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/20.cfb89aad.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/21.4442f59d.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/22.b856b12e.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/23.5f6cbd6b.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/24.e6a0ece3.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/25.f746e6fd.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/26.c90048a7.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/27.6d1148f6.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/28.60572beb.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/29.39167d9f.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/3.495dc00b.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/30.0709fb88.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/31.452f63a1.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/32.cba61a06.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/33.82ca7843.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/34.69840246.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/35.ea21d817.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/36.3f986831.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/37.b6b55d26.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/38.95e0021b.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/39.b9ce5ef6.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/4.b6f95212.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/40.f25881a3.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/41.5b2f986c.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/42.4bce698c.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/43.521bd05c.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/44.eebe792a.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/45.741f30e0.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/46.2cd47454.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/47.afa25a33.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/48.a0fb3eea.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/49.177db5ee.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/5.ebca04eb.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/50.a898602b.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/51.a980c670.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/52.d575af35.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/53.95cfbe6e.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/54.51250cc2.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/55.dfd80371.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/56.583775b7.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/57.87c80b7e.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/58.cd2db007.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/59.a7300c15.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/6.dcdb223b.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/60.7e618cd7.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/7.4ce1ed3f.js"><link rel="prefetch" href="/wikidata-wikibase-architecture/assets/js/8.caf216c7.js">
    <link rel="stylesheet" href="/wikidata-wikibase-architecture/assets/css/0.styles.2dde6f7c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/wikidata-wikibase-architecture/" class="home-link router-link-active"><!----> <span class="site-name">Wikibase Architecture Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/wikidata-wikibase-architecture/" class="nav-link">
  Wikibase
</a></div><div class="nav-item"><a href="/wikidata-wikibase-architecture/systems/Repository/01-Introduction.html" class="nav-link">
  Repository
</a></div><div class="nav-item"><a href="/wikidata-wikibase-architecture/systems/Query/01-Introduction.html" class="nav-link">
  Query Service
</a></div><div class="nav-item"><a href="/wikidata-wikibase-architecture/systems/Client/01-Introduction.html" class="nav-link">
  Client
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/wikidata-wikibase-architecture/" class="nav-link">
  Wikibase
</a></div><div class="nav-item"><a href="/wikidata-wikibase-architecture/systems/Repository/01-Introduction.html" class="nav-link">
  Repository
</a></div><div class="nav-item"><a href="/wikidata-wikibase-architecture/systems/Query/01-Introduction.html" class="nav-link">
  Query Service
</a></div><div class="nav-item"><a href="/wikidata-wikibase-architecture/systems/Client/01-Introduction.html" class="nav-link">
  Client
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/wikidata-wikibase-architecture/systems/Repository/01-Introduction.html" class="sidebar-link">Repository Introduction</a></li><li><a href="/wikidata-wikibase-architecture/systems/Repository/02-Architecture_Constraints.html" class="sidebar-link">Architecture Constraints</a></li><li><a href="/wikidata-wikibase-architecture/systems/Repository/03-Context_and_Scope.html" aria-current="page" class="active sidebar-link">Context and Scope</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/wikidata-wikibase-architecture/systems/Repository/03-Context_and_Scope.html#business-context" class="sidebar-link">Business Context</a></li><li class="sidebar-sub-header"><a href="/wikidata-wikibase-architecture/systems/Repository/03-Context_and_Scope.html#technical-context" class="sidebar-link">Technical Context</a></li><li class="sidebar-sub-header"><a href="/wikidata-wikibase-architecture/systems/Repository/03-Context_and_Scope.html#deepdive-context" class="sidebar-link">Deepdive Context</a></li></ul></li><li><a href="/wikidata-wikibase-architecture/systems/Repository/04-Solution_Strategy.html" class="sidebar-link">Solution Strategy</a></li><li><a href="/wikidata-wikibase-architecture/systems/Repository/05-Building_Block_View.html" class="sidebar-link">Building Block View</a></li><li><a href="/wikidata-wikibase-architecture/systems/Repository/06-Runtime_View.html" class="sidebar-link">Runtime View</a></li><li><a href="/wikidata-wikibase-architecture/systems/Repository/07-Deployment_View.html" class="sidebar-link">Deployment View</a></li><li><a href="/wikidata-wikibase-architecture/systems/Repository/09-Architecture_Decisions.html" class="sidebar-link">Architecture Decisions</a></li><li><a href="/wikidata-wikibase-architecture/systems/Repository/10-Quality.html" class="sidebar-link">Quality Requirements</a></li><li><a href="/wikidata-wikibase-architecture/systems/Repository/11-Risks_and_Technical_Debt.html" class="sidebar-link">Risks and Technical Debt</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="context-and-scope"><a href="#context-and-scope" class="header-anchor">#</a> Context and Scope</h1> <h2 id="business-context"><a href="#business-context" class="header-anchor">#</a> Business Context</h2> <p><img src="/wikidata-wikibase-architecture/assets/img/03-business-context.drawio.e80b737c.svg" alt="Wikibase Repository business context diagram"></p> <p><strong>Editor</strong></p> <p>A Wikibase editor will create, read, update, delete, monitor and maintain structured data on a Repository.</p> <p><strong>Data Re-user</strong></p> <p>A Data Re-user will access data from a Repository directly, but also via the Query Service to visualize and deepdive.</p> <p><strong>Importer</strong></p> <p>Importers will use external tools, or a Repository directly to import large amounts of data.</p> <p><strong>Query Service</strong></p> <p>The Query Service stores a current version of all data held in the Repository allowing Data Re-users to query it using SPARQL or user interfaces.</p> <p><strong>External Tools</strong></p> <p>External tools make use of any available public entry-point to interact with the data held within a Repository.</p> <p><strong>Client</strong></p> <p>Client connects to a Repository, using its data in MediaWiki pages and connecting pages to Repository Items.<br>
A Client will notify a Repository if things happen on it that the Repository might care about, such as page renames or deletions.</p> <p><strong>Repository</strong></p> <p>The Repository holds the canonical source of truth for structured data.<br>
It provides a variety of public and non public interfaces to create, reads, updates, deletes, monitors and maintain this data.</p> <h2 id="technical-context"><a href="#technical-context" class="header-anchor">#</a> Technical Context</h2> <p><img src="/wikidata-wikibase-architecture/assets/img/03-technical-context.drawio.87bd7b65.svg" alt="Wikibase Repository technical context diagram"></p> <p>Many repo components exists within MediaWiki as extensions.<br>
Their connection to MediaWiki is not represented to keep things simple.</p> <p><strong>internet / https</strong></p> <p>APIs and UIs provided by MediaWiki that Repository adds features to are contactable over the internet via https.</p> <p>Both users and other systems use these APIs.</p> <p>The Query Service has a SPARQL API that Repository queries in some cases.</p> <p><strong>php / sql</strong></p> <p>Client pulls data from the Repository directly from the SQL database using a connection in PHP and shared PHP data access code.</p> <p><strong>php / job queue</strong></p> <p>Both Repository and Client have MediaWiki job queues, and they both &quot;send messages&quot; via these job queues.</p> <h2 id="deepdive-context"><a href="#deepdive-context" class="header-anchor">#</a> Deepdive Context</h2> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>This is not a complete picture</p></div> <p>While we were still figuring out how to use the arc42 documentation model lots of diagrams were created.<br>
The diagram below was &quot;technical context&quot; but probably goes too deep, but is kept here for reference until its content is represented elsewhere (mostlikely in building block views)</p> <p>Wikibase Repository is being developed as a set of MediaWiki extensions, but unlike Wikibase Client, they are not &quot;plugins&quot; that live inside MediaWiki, adding functionality to it. Instead, Wikibase Repository should be considered a system of its own, which is reflected in this diagram by not regarding MediaWiki as an external system to Wikibase Repository. See further details on this decision in the <a href="/wikidata-wikibase-architecture/systems/Repository/04-Solution_Strategy.html#developing-wikibase-repository-through-mediawiki-extensions">Solution Strategy</a> section.</p> <p><img src="/wikidata-wikibase-architecture/assets/img/03-technical-context-old.drawio.f99efdf8.svg" alt="Wikibase Repository old technical context diagram"></p> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Note that updates to the Query Service from the Repository will use either Recent Changes or the event stream via EventLogging and EventGate, not both. Wikidata uses the event stream, while most third party Wikibase setups use an updater that polls the Recent Changes page.</p></div> <table><thead><tr><th>Component</th> <th>Description</th></tr></thead> <tbody><tr><td>Entity UI and Special Pages</td> <td>These are the main web user interfaces for viewing and editing <a href="/wikidata-wikibase-architecture/Glossary.html#entity">Entity</a> data</td></tr> <tr><td>Dump Generation</td> <td>Generates various formats of data dump from the Repo's <a href="/wikidata-wikibase-architecture/Glossary.html#entity">Entities</a></td></tr> <tr><td><a href="https://www.mediawiki.org/wiki/Help:Recent_changes" target="_blank" rel="noopener noreferrer">MW Recent Changes<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>A MediaWiki page listing the most recent edits</td></tr> <tr><td><a href="https://www.mediawiki.org/wiki/Extension:EventLogging" target="_blank" rel="noopener noreferrer">MW EventLogging<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>Backend-agnostic logs of structured event data</td></tr> <tr><td><a href="https://wikitech.wikimedia.org/wiki/Event_Platform/EventGate" target="_blank" rel="noopener noreferrer">EventGate<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td>An EventLogging backend which in production is backed by Kafka</td></tr> <tr><td>Repo DB</td> <td>The SQL database containing <a href="/wikidata-wikibase-architecture/Glossary.html#entity">Entity</a> data</td></tr> <tr><td>Data Dumps</td> <td>Data dump artifacts, in a variety of formats</td></tr> <tr><td>Entity edit hooks</td> <td>Hooks that get triggered when an <a href="/wikidata-wikibase-architecture/Glossary.html#entity">Entity</a> is edited</td></tr> <tr><td>UpdateRepo</td> <td>Updates <a href="/wikidata-wikibase-architecture/Glossary.html#sitelink">Sitelinks</a> when the sitelink target is moved or deleted on the Wikibase Client</td></tr> <tr><td>API</td> <td>The Repository's actions on the <a href="https://www.mediawiki.org/wiki/API:Main_page" target="_blank" rel="noopener noreferrer">MW Action API<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> for editing Entities and reading Entity (meta) data</td></tr> <tr><td>PropertySuggester</td> <td>An extension to provide suggested properties when a user tries to add new statements to an item</td></tr></tbody></table></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/wmde/wikidata-wikibase-architecture/edit/main/systems/Repository/03-Context_and_Scope.md" target="_blank" rel="noopener noreferrer">Edit this page on Github!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">4/4/2022, 8:05:53 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/wikidata-wikibase-architecture/systems/Repository/02-Architecture_Constraints.html" class="prev">
        Architecture Constraints
      </a></span> <span class="next"><a href="/wikidata-wikibase-architecture/systems/Repository/04-Solution_Strategy.html">
        Solution Strategy
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/wikidata-wikibase-architecture/assets/js/app.3df8c736.js" defer></script><script src="/wikidata-wikibase-architecture/assets/js/2.c572fd67.js" defer></script><script src="/wikidata-wikibase-architecture/assets/js/9.68cd709e.js" defer></script>
  </body>
</html>
